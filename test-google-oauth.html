<!DOCTYPE html>
<html>
<head>
    <title>Test Google OAuth</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
        }
        button {
            background: #4285f4;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #357ae8;
        }
        .info {
            background: #f5f5f5;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Test Google OAuth</h1>
    
    <div class="info">
        <h3>Current Configuration:</h3>
        <p><strong>Client ID:</strong> 143464414523-0r8agm4s8muqbf29fhs6r3fvcl9p9guf.apps.googleusercontent.com</p>
        <p><strong>Redirect URI:</strong> <span id="redirectUri"></span></p>
        <p><strong>Auth URL:</strong> <span id="authUrl"></span></p>
    </div>
    
    <button onclick="testGoogleOAuth()">Test Google OAuth</button>
    
    <div id="result" style="margin-top: 20px;"></div>

    <script>
        function testGoogleOAuth() {
            const googleClientId = '143464414523-0r8agm4s8muqbf29fhs6r3fvcl9p9guf.apps.googleusercontent.com';
            const redirectUri = `${window.location.origin}/auth/google/callback`;
            const scope = 'openid email profile';
            
            document.getElementById('redirectUri').textContent = redirectUri;
            
            const googleAuthUrl = `https://accounts.google.com/oauth/authorize?` +
                `client_id=${googleClientId}&` +
                `redirect_uri=${encodeURIComponent(redirectUri)}&` +
                `scope=${encodeURIComponent(scope)}&` +
                `response_type=code&` +
                `access_type=offline&` +
                `prompt=consent`;
            
            document.getElementById('authUrl').textContent = googleAuthUrl;
            
            console.log('Google Auth URL:', googleAuthUrl);
            
            // Test if we can redirect
            try {
                window.location.href = googleAuthUrl;
            } catch (error) {
                console.error('Redirect failed:', error);
                document.getElementById('result').innerHTML = `<div style="color: red;">Redirect failed: ${error.message}</div>`;
            }
        }
    </script>
</body>
</html>
